@startuml process-view
autonumber
actor TM as "Task Manager"
participant UI as "Visualization" <<system (C4)>>
participant MMD as "Management Master Data" <<system (C4)>>
participant TMD as "Tasks Master Data" <<system (C4)>>
participant P as "Planning" <<system (C4)>>

activate TM

TM -> UI : asks to get the sequence of execution of the approved tasks
activate UI

UI -> MMD : GET /task-requests/sequence
activate MMD
MMD -> TMD : GET /tasks/sequence
activate TMD
TMD -> P : GET /sequence
activate P
P -> TMD : GET /requests/pick-delivery?status=approved
activate TMD
TMD --> P : GET /requests/pick-delivery?status=approved
deactivate TMD
P -> P : runs algorithm to get the sequence of tasks
activate P
deactivate P
P --> TMD : 200 (sequence of tasks)
deactivate P
TMD --> MMD : 200 (sequence of tasks)
MMD -> MMD : enriches the sequence of tasks with the user's & robot information
activate MMD
deactivate MMD
deactivate TMD
MMD --> UI : 200 (sequence of tasks)
deactivate MMD

TM <-- UI : returns the sequence of tasks
deactivate UI

deactivate TM

@enduml

