<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="511px" preserveAspectRatio="none" style="width:2102px;height:511px;background:#FFFFFF;" version="1.1" viewBox="0 0 2102 511" width="2102px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="382.4722" style="stroke:#181818;stroke-width:1.0;" width="10" x="534" y="72.7739"/><rect fill="#FFFFFF" height="319.0602" style="stroke:#181818;stroke-width:1.0;" width="10" x="955" y="104.4799"/><rect fill="#FFFFFF" height="255.6481" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376" y="136.186"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="1742" y="167.892"/><rect fill="#FFFFFF" height="95.118" style="stroke:#181818;stroke-width:1.0;" width="10" x="1889.5" y="258.01"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="2023.5" y="289.716"/><rect fill="none" height="146.5301" style="stroke:#000000;stroke-width:1.5;" width="793" x="1303.5" y="214.598"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="539" x2="539" y1="39.0679" y2="473.2461"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="960" x2="960" y1="39.0679" y2="473.2461"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1380.5" x2="1380.5" y1="39.0679" y2="473.2461"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1501.5" x2="1501.5" y1="39.0679" y2="473.2461"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1747" x2="1747" y1="39.0679" y2="473.2461"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1894" x2="1894" y1="39.0679" y2="473.2461"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2028.5" x2="2028.5" y1="39.0679" y2="473.2461"/><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="476" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="483" y="26.9659">:ConnectorRoute</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="476" y="472.2461"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="483" y="494.2121">:ConnectorRoute</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="883" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="890" y="26.9659">:ConnectorController</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="883" y="472.2461"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="890" y="494.2121">:ConnectorController</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135" x="1313.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="1320.5" y="26.9659">:ConnectorService</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135" x="1313.5" y="472.2461"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="1320.5" y="494.2121">:ConnectorService</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="1458.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1465.5" y="26.9659">:Connector</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="1458.5" y="472.2461"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1465.5" y="494.2121">:Connector</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="1668" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="1675" y="26.9659">:ConnectorRepository</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="1668" y="472.2461"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="1675" y="494.2121">:ConnectorRepository</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="1836" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1843" y="26.9659">:ConnectorMap</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="1836" y="472.2461"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1843" y="494.2121">:ConnectorMap</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1970.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1977.5" y="26.9659">:ConnectorDTO</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1970.5" y="472.2461"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1977.5" y="494.2121">:ConnectorDTO</text><rect fill="#FFFFFF" height="382.4722" style="stroke:#181818;stroke-width:1.0;" width="10" x="534" y="72.7739"/><rect fill="#FFFFFF" height="319.0602" style="stroke:#181818;stroke-width:1.0;" width="10" x="955" y="104.4799"/><rect fill="#FFFFFF" height="255.6481" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376" y="136.186"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="1742" y="167.892"/><rect fill="#FFFFFF" height="95.118" style="stroke:#181818;stroke-width:1.0;" width="10" x="1889.5" y="258.01"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="2023.5" y="289.716"/><ellipse cx="4.5" cy="72.0239" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="522,68.7739,532,72.7739,522,76.7739,526,72.7739" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="9" x2="528" y1="72.7739" y2="72.7739"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="12" y="66.9649">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="496" x="23" y="66.9649">GET /connectors?building1Code={building1Code}&amp;building1Code={building1Code}</text><polygon fill="#181818" points="943,100.4799,953,104.4799,943,108.4799,947,104.4799" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="544" x2="949" y1="104.4799" y2="104.4799"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="551" y="98.6709">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="381" x="562" y="98.6709">listConnectorsBetweenBuildings(building1Code, building2Code)</text><polygon fill="#181818" points="1364,132.186,1374,136.186,1364,140.186,1368,136.186" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="965" x2="1370" y1="136.186" y2="136.186"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="972" y="130.377">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="381" x="983" y="130.377">listConnectorsBetweenBuildings(building1Code, building2Code)</text><polygon fill="#181818" points="1730,163.892,1740,167.892,1730,171.892,1734,167.892" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1386" x2="1736" y1="167.892" y2="167.892"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1393" y="162.083">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="326" x="1404" y="162.083">findByFloorOfBuildings(building1Code, building2Code)</text><polygon fill="#181818" points="1397,195.598,1387,199.598,1397,203.598,1393,199.598" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1391" x2="1746" y1="199.598" y2="199.598"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1403" y="193.789">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="1414" y="193.789">Connector[]</text><path d="M1303.5,214.598 L1376.5,214.598 L1376.5,224.304 L1366.5,234.304 L1303.5,234.304 L1303.5,214.598 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="146.5301" style="stroke:#000000;stroke-width:1.5;" width="793" x="1303.5" y="214.598"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1318.5" y="229.495">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="114" x="1391.5" y="228.3569">[for each connector]</text><polygon fill="#181818" points="1877.5,254.01,1887.5,258.01,1877.5,262.01,1881.5,258.01" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1386" x2="1883.5" y1="258.01" y2="258.01"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1393" y="252.201">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="1404" y="252.201">mapToDTO(connector)</text><polygon fill="#181818" points="2011.5,285.716,2021.5,289.716,2011.5,293.716,2015.5,289.716" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1899.5" x2="2017.5" y1="289.716" y2="289.716"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1906.5" y="283.907">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="1917.5" y="283.907">create()</text><polygon fill="#181818" points="1910.5,317.4221,1900.5,321.4221,1910.5,325.4221,1906.5,321.4221" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1904.5" x2="2027.5" y1="321.4221" y2="321.4221"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1916.5" y="315.6131">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="1927.5" y="315.6131">ConnectorDTO</text><polygon fill="#181818" points="1397,349.1281,1387,353.1281,1397,357.1281,1393,353.1281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1391" x2="1893.5" y1="353.1281" y2="353.1281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1403" y="347.3191">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="1414" y="347.3191">ConnectorDTO[]</text><polygon fill="#181818" points="976,387.8341,966,391.8341,976,395.8341,972,391.8341" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="970" x2="1380" y1="391.8341" y2="391.8341"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="982" y="386.0251">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="1000" y="386.0251">ConnectorDTO[]</text><polygon fill="#181818" points="555,419.5401,545,423.5401,555,427.5401,551,423.5401" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="549" x2="959" y1="423.5401" y2="423.5401"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="561" y="417.7311">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="579" y="417.7311">FloorDTO[]</text><polygon fill="#181818" points="11,451.2461,1,455.2461,11,459.2461,7,455.2461" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="538" y1="455.2461" y2="455.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="17" y="449.4371">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="35" y="449.4371">200 OK (list of connectorss as JSON)</text><!--MD5=[37f919f553d45a9079c1d58b815e3597]
@startuml us12-level3_processes
autonumber

participant ROUTE as ":ConnectorRoute"
participant CTRL as ":ConnectorController"
participant SVC as ":ConnectorService"
participant E as ":Connector"
participant REPO as ":ConnectorRepository"
participant CMAP as ":ConnectorMap"
participant DTO as ":ConnectorDTO"

?o-> ROUTE : GET /connectors?building1Code={building1Code}&building1Code={building1Code}
activate ROUTE

  ROUTE -> CTRL : listConnectorsBetweenBuildings(building1Code, building2Code)
  activate CTRL

    CTRL -> SVC : listConnectorsBetweenBuildings(building1Code, building2Code)
    activate SVC

      SVC -> REPO : findByFloorOfBuildings(building1Code, building2Code)
      activate REPO

      REPO - -> SVC : Connector[]
      deactivate REPO

      loop for each connector

        SVC -> CMAP : mapToDTO(connector)
        activate CMAP

          CMAP -> DTO : create()
          activate DTO

          DTO - -> CMAP : ConnectorDTO
          deactivate DTO

        CMAP - -> SVC : ConnectorDTO[]
        deactivate CMAP
      
      end

    CTRL <- - SVC : ConnectorDTO[]
    deactivate SVC

  ROUTE <- - CTRL : FloorDTO[]
  deactivate CTRL
  
<- - ROUTE : 200 OK (list of connectorss as JSON)
deactivate ROUTE

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>