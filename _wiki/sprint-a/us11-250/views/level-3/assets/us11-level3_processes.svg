<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="791px" preserveAspectRatio="none" style="width:1745px;height:791px;background:#FFFFFF;" version="1.1" viewBox="0 0 1745 791" width="1745px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="662.4143" style="stroke:#181818;stroke-width:1.0;" width="10" x="229" y="72.7739"/><rect fill="#FFFFFF" height="599.0023" style="stroke:#181818;stroke-width:1.0;" width="10" x="548" y="104.4799"/><rect fill="#FFFFFF" height="535.5902" style="stroke:#181818;stroke-width:1.0;" width="10" x="867" y="136.186"/><rect fill="#FFFFFF" height="283.6481" style="stroke:#181818;stroke-width:1.0;" width="10" x="1091" y="167.892"/><rect fill="#FFFFFF" height="93.412" style="stroke:#181818;stroke-width:1.0;" width="10" x="1091" y="546.6582"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="1300" y="199.598"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="1300" y="483.2461"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1432.5" y="389.8341"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="1547" y="263.01"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="1547" y="326.4221"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1676" y="578.3642"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="234" x2="234" y1="39.0679" y2="753.1882"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="553" x2="553" y1="39.0679" y2="753.1882"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="871.5" x2="871.5" y1="39.0679" y2="753.1882"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1095.5" x2="1095.5" y1="39.0679" y2="753.1882"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1305" x2="1305" y1="39.0679" y2="753.1882"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1437" x2="1437" y1="39.0679" y2="753.1882"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1552" x2="1552" y1="39.0679" y2="753.1882"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1681" x2="1681" y1="39.0679" y2="753.1882"/><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="171" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="178" y="26.9659">:ConnectorRoute</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="171" y="752.1882"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="178" y="774.1542">:ConnectorRoute</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="476" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="483" y="26.9659">:ConnectorController</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="476" y="752.1882"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="483" y="774.1542">:ConnectorController</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135" x="804.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="811.5" y="26.9659">:ConnectorService</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135" x="804.5" y="752.1882"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="811.5" y="774.1542">:ConnectorService</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="1037.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1044.5" y="26.9659">:ConnectorMap</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="1037.5" y="752.1882"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1044.5" y="774.1542">:ConnectorMap</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="1226" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="1233" y="26.9659">:ConnectorRepository</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="1226" y="752.1882"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="1233" y="774.1542">:ConnectorRepository</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="1394" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1401" y="26.9659">:Connector</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="1394" y="752.1882"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1401" y="774.1542">:Connector</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="1491" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1498" y="26.9659">:FloorRepository</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="1491" y="752.1882"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1498" y="774.1542">:FloorRepository</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1623" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1630" y="26.9659">:ConnectorDTO</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1623" y="752.1882"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1630" y="774.1542">:ConnectorDTO</text><rect fill="#FFFFFF" height="662.4143" style="stroke:#181818;stroke-width:1.0;" width="10" x="229" y="72.7739"/><rect fill="#FFFFFF" height="599.0023" style="stroke:#181818;stroke-width:1.0;" width="10" x="548" y="104.4799"/><rect fill="#FFFFFF" height="535.5902" style="stroke:#181818;stroke-width:1.0;" width="10" x="867" y="136.186"/><rect fill="#FFFFFF" height="283.6481" style="stroke:#181818;stroke-width:1.0;" width="10" x="1091" y="167.892"/><rect fill="#FFFFFF" height="93.412" style="stroke:#181818;stroke-width:1.0;" width="10" x="1091" y="546.6582"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="1300" y="199.598"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="1300" y="483.2461"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1432.5" y="389.8341"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="1547" y="263.01"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="1547" y="326.4221"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1676" y="578.3642"/><ellipse cx="79.5" cy="72.0239" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="217,68.7739,227,72.7739,217,76.7739,221,72.7739" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="84" x2="223" y1="72.7739" y2="72.7739"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="87" y="66.9649">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="98" y="66.9649">PATCH /connectors</text><polygon fill="#181818" points="536,100.4799,546,104.4799,536,108.4799,540,104.4799" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="239" x2="542" y1="104.4799" y2="104.4799"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="246" y="98.6709">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279" x="257" y="98.6709">editConnector(connectorCode, connectorDTO)</text><polygon fill="#181818" points="855,132.186,865,136.186,855,140.186,859,136.186" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="558" x2="861" y1="136.186" y2="136.186"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="565" y="130.377">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279" x="576" y="130.377">editConnector(connectorCode, connectorDTO)</text><polygon fill="#181818" points="1079,163.892,1089,167.892,1079,171.892,1083,167.892" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="877" x2="1085" y1="167.892" y2="167.892"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="884" y="162.083">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="895" y="162.083">mapToDomain(connectorDTO)</text><polygon fill="#181818" points="1288,195.598,1298,199.598,1288,203.598,1292,199.598" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1101" x2="1294" y1="199.598" y2="199.598"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1108" y="193.789">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="1119" y="193.789">findByCode(connectorCode)</text><polygon fill="#181818" points="1112,227.304,1102,231.304,1112,235.304,1108,231.304" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1106" x2="1304" y1="231.304" y2="231.304"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1118" y="225.495">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="1129" y="225.495">connector</text><polygon fill="#181818" points="1535,259.01,1545,263.01,1535,267.01,1539,263.01" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1101" x2="1541" y1="263.01" y2="263.01"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1108" y="257.201">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="1119" y="257.201">findByCode(floor1Code)</text><polygon fill="#181818" points="1112,290.716,1102,294.716,1112,298.716,1108,294.716" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1106" x2="1551" y1="294.716" y2="294.716"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1118" y="288.907">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="1129" y="288.907">floor1</text><polygon fill="#181818" points="1535,322.4221,1545,326.4221,1535,330.4221,1539,326.4221" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1101" x2="1541" y1="326.4221" y2="326.4221"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1108" y="320.6131">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="1119" y="320.6131">findByCode(floor2Code)</text><polygon fill="#181818" points="1112,354.1281,1102,358.1281,1112,362.1281,1108,358.1281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1106" x2="1551" y1="358.1281" y2="358.1281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1118" y="352.3191">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="1136" y="352.3191">floor2</text><polygon fill="#181818" points="1420.5,385.8341,1430.5,389.8341,1420.5,393.8341,1424.5,389.8341" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1101" x2="1426.5" y1="389.8341" y2="389.8341"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1108" y="384.0251">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="1126" y="384.0251">create(floor1, floor2)</text><polygon fill="#181818" points="888,447.5401,878,451.5401,888,455.5401,884,451.5401" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="882" x2="1095" y1="451.5401" y2="451.5401"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="894" y="445.7311">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="912" y="445.7311">Connector</text><polygon fill="#181818" points="1288,479.2461,1298,483.2461,1288,487.2461,1292,483.2461" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="877" x2="1294" y1="483.2461" y2="483.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="884" y="477.4371">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="902" y="477.4371">save(connector)</text><polygon fill="#181818" points="888,510.9521,878,514.9521,888,518.9521,884,514.9521" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="882" x2="1304" y1="514.9521" y2="514.9521"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="894" y="509.1431">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="912" y="509.1431">Connector</text><polygon fill="#181818" points="1079,542.6582,1089,546.6582,1079,550.6582,1083,546.6582" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="877" x2="1085" y1="546.6582" y2="546.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="884" y="540.8492">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="902" y="540.8492">mapToDTO(connector)</text><polygon fill="#181818" points="1664,574.3642,1674,578.3642,1664,582.3642,1668,578.3642" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1101" x2="1670" y1="578.3642" y2="578.3642"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1108" y="572.5552">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="1126" y="572.5552">create()</text><polygon fill="#181818" points="888,636.0702,878,640.0702,888,644.0702,884,640.0702" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="882" x2="1095" y1="640.0702" y2="640.0702"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="894" y="634.2612">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="912" y="634.2612">ConnectorDTO</text><polygon fill="#181818" points="569,667.7762,559,671.7762,569,675.7762,565,671.7762" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="563" x2="871" y1="671.7762" y2="671.7762"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="575" y="665.9672">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="593" y="665.9672">ConnectorDTO</text><polygon fill="#181818" points="250,699.4822,240,703.4822,250,707.4822,246,703.4822" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="244" x2="552" y1="703.4822" y2="703.4822"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="256" y="697.6732">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="274" y="697.6732">ConnectorDTO</text><polygon fill="#181818" points="11,731.1882,1,735.1882,11,739.1882,7,735.1882" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="233" y1="735.1882" y2="735.1882"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="17" y="729.3792">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="35" y="729.3792">200 OK (ConnectorDTO as JSON)</text><!--MD5=[540cd03b387844a257ce53137e728bc3]
@startuml us11-level3_processes
autonumber

participant ROUTE as ":ConnectorRoute"
participant CTRL as ":ConnectorController"
participant SVC as ":ConnectorService"
participant CMAP as ":ConnectorMap"
participant REPO as ":ConnectorRepository"
participant E as ":Connector"
participant FREPO as ":FloorRepository"
participant DTO as ":ConnectorDTO"

?o-> ROUTE : PATCH /connectors
activate ROUTE

  ROUTE -> CTRL : editConnector(connectorCode, connectorDTO)
  activate CTRL

    CTRL -> SVC : editConnector(connectorCode, connectorDTO)
    activate SVC

      SVC -> CMAP : mapToDomain(connectorDTO)
      activate CMAP

        CMAP -> REPO : findByCode(connectorCode)
        activate REPO
          CMAP <- - REPO : connector
        deactivate REPO

        CMAP -> FREPO : findByCode(floor1Code)
        activate FREPO
          CMAP <- - FREPO : floor1
        deactivate FREPO

        CMAP -> FREPO : findByCode(floor2Code)
        activate FREPO
          CMAP <- - FREPO : floor2
        deactivate FREPO

        CMAP -> E : create(floor1, floor2)
        activate E
        deactivate E

        SVC <- - CMAP : Connector
      deactivate CMAP

      SVC -> REPO : save(connector)
      activate REPO
        SVC <- - REPO : Connector
      deactivate REPO

      SVC -> CMAP : mapToDTO(connector)
      activate CMAP
        CMAP -> DTO : create()
        activate DTO
        deactivate DTO

        SVC <- - CMAP : ConnectorDTO
      deactivate CMAP

    CTRL <- - SVC : ConnectorDTO
    deactivate SVC

  ROUTE <- - CTRL : ConnectorDTO
  deactivate CTRL
  
<- - ROUTE : 200 OK (ConnectorDTO as JSON)
deactivate ROUTE

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>